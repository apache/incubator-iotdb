#
# Licensed to the Apache Software Foundation (ASF) under one
# or more contributor license agreements.  See the NOTICE file
# distributed with this work for additional information
# regarding copyright ownership.  The ASF licenses this file
# to you under the Apache License, Version 2.0 (the
# "License"); you may not use this file except in compliance
# with the License.  You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing,
# software distributed under the License is distributed on an
# "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
# KIND, either express or implied.  See the License for the
# specific language governing permissions and limitations
# under the License.
#

# Cluster node: {ip1:port,ip2:port,...,ipn:port}
nodes = 127.0.0.1:8888

# number of data replicator
replication = 1

# Local ip. If the cluster is deployed with more than one ip,
# the parameter should be set to the real IP address rather than 127.0.0.1.
ip = 127.0.0.1

port = 8888

#raft_log_path = /tmp/raft/log/

#raft_snapshot_path = /tmp/raft/snapshot/

#raft_metadata_path = /tmp/raft/metadata/


# A follower would become a candidate if it doesn't receive any message
# from the leader in election_timeout_ms milliseconds
election_timeout_ms = 1000

# When the number of the difference between leader and follower log is less than this value, it
# is considered as 'catch-up'
max_catch_up_log_num = 100000

# Whether to enable the delayed snapshot mechanism or not
delay_snapshot = false

# Maximin allowed delay hours of snapshot
delay_hours = 2

# Count limit to redo a single task
task_redo_count = 10

# Timeout limit for a single task, the unit is milliseconds
task_timeout_ms = 1000

# number of virtual nodes
num_of_virtual_nodes = 2

# Max number of use inner rpc client
max_num_of_inner_rpc_client = 500

# Max number of queue length to use inner rpc client, the request which exceed to this
# number will be rejected.
max_queue_num_of_inner_rpc_client = 500

# ReadMetadataConsistencyLevel: 1  Strong consistency, 2  Weak consistency
read_metadata_consistency_level = 1

# ReadDataConsistencyLevel: 1  Strong consistency, 2  Weak consistency
read_data_consistency_level = 1

# Max num of threads can concurrently execute qp sub-tasks of all client requests.
# When <= 0, use CPU core number * 10.
# Each client request corresponds to a QP Task.
# A QP task may be divided into several sub-tasks.
concurrent_qp_sub_task_thread = 0

# Max num of threads can concurrently apply tasks in raft state machine.
# When <= 0, use CPU core number.
# Raft Task refers to tasks that need to be performed in the state machine.
concurrent_raft_task_thread = 0

# Max time of blocking main thread for waiting for all running task threads and tasks in the
# queue until end. The unit is milliseconds.
# Each client request corresponds to a QP Task. A QP task may be divided into several sub-tasks.
close_qp_sub_task_block_timeout = 1000

# Max time of blocking main thread for waiting for all running task threads and tasks in the
# queue until end. The unit is milliseconds.
# Raft Task refers to tasks that need to be performed in the state machine.
# Due to guarantee data consistency, it must ensure that raft tasks finish.
# If user sets the parameter, it will not sure to guarantee consistency.
close_raft_task_block_timeout = 0